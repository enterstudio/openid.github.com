<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>openid.store.sqlstore.SQLStore</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="openid-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://github.com/openid/python-openid/">Python-OpenID</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="openid-module.html">Package&nbsp;openid</a> ::
        <a href="openid.store-module.html">Package&nbsp;store</a> ::
        <a href="openid.store.sqlstore-module.html">Module&nbsp;sqlstore</a> ::
        Class&nbsp;SQLStore
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="openid.store.sqlstore.SQLStore-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class SQLStore</h1><p class="nomargin-top"><span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore">source&nbsp;code</a></span></p>
<pre class="base-tree">
           object --+    
                    |    
<a href="openid.store.interface.OpenIDStore-class.html">interface.OpenIDStore</a> --+
                        |
                       <strong class="uidshort">SQLStore</strong>
</pre>

<dl><dt>Known Subclasses:</dt>
<dd>
      <ul class="subclass-list">
<li><a href="openid.store.sqlstore.MySQLStore-class.html">MySQLStore</a></li><li>, <a href="openid.store.sqlstore.PostgreSQLStore-class.html">PostgreSQLStore</a></li><li>, <a href="openid.store.sqlstore.SQLiteStore-class.html">SQLiteStore</a></li>  </ul>
</dd></dl>

<hr />
<p>This is the parent class for the SQL stores, which contains the logic 
  common to all of the SQL stores.</p>
  <p>The table names used are determined by the class variables <code><a 
  href="openid.store.sqlstore.SQLStore-class.html#associations_table" 
  class="link">associations_table</a></code> and <code><a 
  href="openid.store.sqlstore.SQLStore-class.html#nonces_table" 
  class="link">nonces_table</a></code>.  To change the name of the tables 
  used, pass new table names into the constructor.</p>
  <p>To create the tables with the proper schema, see the <code><a 
  href="openid.store.sqlstore.SQLStore-class.html#createTables" 
  class="link">createTables</a></code> method.</p>
  <p>This class shouldn't be used directly.  Use one of its subclasses 
  instead, as those contain the code necessary to use a specific 
  database.</p>
  <p>All methods other than <code><a 
  href="openid.store.sqlstore.SQLStore-class.html#__init__" 
  class="link">__init__</a></code> and <code><a 
  href="openid.store.sqlstore.SQLStore-class.html#createTables" 
  class="link">createTables</a></code> should be considered implementation 
  details.</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Instance Methods</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="openid.store.sqlstore.SQLStore-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">conn</span>,
        <span class="summary-sig-arg">associations_table</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">nonces_table</span>=<span class="summary-sig-default">None</span>)</span><br />
      This creates a new SQLStore instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="openid.store.sqlstore.SQLStore-class.html#createTables" class="summary-sig-name">createTables</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">*args</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span><br />
      This method creates the database tables necessary for this store to 
      work.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.createTables">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="openid.store.sqlstore.SQLStore-class.html#blobDecode" class="summary-sig-name">blobDecode</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">blob</span>)</span><br />
      Convert a blob as returned by the SQL engine into a str object.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.blobDecode">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="blobEncode"></a><span class="summary-sig-name">blobEncode</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">s</span>)</span><br />
      Convert a str object into the necessary object for storing in the 
      database as a blob.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.blobEncode">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="__getattr__"></a><span class="summary-sig-name">__getattr__</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">attr</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.__getattr__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="openid.store.sqlstore.SQLStore-class.html#txn_createTables" class="summary-sig-name">txn_createTables</a>(<span class="summary-sig-arg">self</span>)</span><br />
      This method creates the database tables necessary for this store to 
      work.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.txn_createTables">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="openid.store.sqlstore.SQLStore-class.html#txn_storeAssociation" class="summary-sig-name">txn_storeAssociation</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">server_url</span>,
        <span class="summary-sig-arg">association</span>)</span><br />
      Set the association for the server URL.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.txn_storeAssociation">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><code>NoneType</code></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="openid.store.sqlstore.SQLStore-class.html#storeAssociation" class="summary-sig-name">storeAssociation</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">*args</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span><br />
      Set the association for the server URL.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.storeAssociation">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="openid.store.sqlstore.SQLStore-class.html#txn_getAssociation" class="summary-sig-name">txn_getAssociation</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">server_url</span>,
        <span class="summary-sig-arg">handle</span>=<span class="summary-sig-default">None</span>)</span><br />
      Get the most recent association that has been set for this server URL
      and handle.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.txn_getAssociation">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><code><a href="openid.association.Association-class.html" 
      class="link">Association</a></code> or <code>NoneType</code></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="openid.store.sqlstore.SQLStore-class.html#getAssociation" class="summary-sig-name">getAssociation</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">*args</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span><br />
      Get the most recent association that has been set for this server URL
      and handle.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.getAssociation">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="openid.store.sqlstore.SQLStore-class.html#txn_removeAssociation" class="summary-sig-name">txn_removeAssociation</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">server_url</span>,
        <span class="summary-sig-arg">handle</span>)</span><br />
      Remove the association for the given server URL and handle, returning
      whether the association existed at all.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.txn_removeAssociation">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><code>bool</code> or <code>int</code></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="openid.store.sqlstore.SQLStore-class.html#removeAssociation" class="summary-sig-name">removeAssociation</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">*args</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span><br />
      Remove the association for the given server URL and handle, returning
      whether the association existed at all.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.removeAssociation">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="openid.store.sqlstore.SQLStore-class.html#txn_useNonce" class="summary-sig-name">txn_useNonce</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">server_url</span>,
        <span class="summary-sig-arg">timestamp</span>,
        <span class="summary-sig-arg">salt</span>)</span><br />
      Return whether this nonce is present, and if it is, then remove it 
      from the set.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.txn_useNonce">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><code>bool</code></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="openid.store.sqlstore.SQLStore-class.html#useNonce" class="summary-sig-name">useNonce</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">*args</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span><br />
      Return whether this nonce is present, and if it is, then remove it 
      from the set.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.useNonce">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="txn_cleanupNonces"></a><span class="summary-sig-name">txn_cleanupNonces</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.txn_cleanupNonces">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">int</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="openid.store.sqlstore.SQLStore-class.html#cleanupNonces" class="summary-sig-name">cleanupNonces</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">*args</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span><br />
      Remove expired nonces from the store.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.cleanupNonces">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="txn_cleanupAssociations"></a><span class="summary-sig-name">txn_cleanupAssociations</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.txn_cleanupAssociations">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">int</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="openid.store.sqlstore.SQLStore-class.html#cleanupAssociations" class="summary-sig-name">cleanupAssociations</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">*args</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span><br />
      Remove expired associations from the store.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.cleanupAssociations">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="openid.store.interface.OpenIDStore-class.html">interface.OpenIDStore</a></code></b>:
      <code><a href="openid.store.interface.OpenIDStore-class.html#cleanup">cleanup</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__str__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Class Variables</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="associations_table"></a><span class="summary-name">associations_table</span> = <code title="'oid_associations'"><code class="variable-quote">'</code><code class="variable-string">oid_associations</code><code class="variable-quote">'</code></code><br />
      This is the default name of the table to keep associations in
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="nonces_table"></a><span class="summary-name">nonces_table</span> = <code title="'oid_nonces'"><code class="variable-quote">'</code><code class="variable-string">oid_nonces</code><code class="variable-quote">'</code></code><br />
      This is the default name of the table to keep nonces in.
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Properties</span></td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Method Details</span></td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">conn</span>,
        <span class="sig-arg">associations_table</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">nonces_table</span>=<span class="sig-default">None</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This creates a new SQLStore instance.  It requires an established 
  database connection be given to it, and it allows overriding the default 
  table names.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>conn</code></strong> (A python database API compatible connection object.) - This must be an established connection to a database of the 
          correct type for the SQLStore subclass you're using.</li>
        <li><strong class="pname"><code>associations_table</code></strong> (<code>str</code>) - This is an optional parameter to specify the name of the table 
          used for storing associations.  The default value is specified in
          <code><a 
          href="openid.store.sqlstore.SQLStore-class.html#associations_table"
          class="link">SQLStore.associations_table</a></code>.</li>
        <li><strong class="pname"><code>nonces_table</code></strong> (<code>str</code>) - This is an optional parameter to specify the name of the table 
          used for storing nonces.  The default value is specified in 
          <code><a 
          href="openid.store.sqlstore.SQLStore-class.html#nonces_table" 
          class="link">SQLStore.nonces_table</a></code>.</li>
    </ul></dd>
    <dt>Overrides:
        object.__init__
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="createTables"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">createTables</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">*args</span>,
        <span class="sig-arg">**kwargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.createTables">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This method creates the database tables necessary for this store to 
  work.  It should not be called if the tables already exist.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="blobDecode"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">blobDecode</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">blob</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.blobDecode">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Convert a blob as returned by the SQL engine into a str object.</p>
  <p>str -&gt; str</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="txn_createTables"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">txn_createTables</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.txn_createTables">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This method creates the database tables necessary for this store to 
  work.  It should not be called if the tables already exist.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="txn_storeAssociation"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">txn_storeAssociation</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">server_url</span>,
        <span class="sig-arg">association</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.txn_storeAssociation">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Set the association for the server URL.</p>
  <p>Association -&gt; NoneType</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="storeAssociation"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">storeAssociation</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">*args</span>,
        <span class="sig-arg">**kwargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.storeAssociation">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Set the association for the server URL.</p>
  <p>Association -&gt; NoneType</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>server_url</code></strong> - The URL of the identity server that this association is with.  
          Because of the way the server portion of the library uses this 
          interface, don't assume there are any limitations on the 
          character set of the input string.  In particular, expect to see 
          unescaped non-url-safe characters in the server_url field.</li>
        <li><strong class="pname"><code>association</code></strong> - The <code><a href="openid.association.Association-class.html" 
          class="link">Association</a></code> to store.</li>
    </ul></dd>
    <dt>Returns: <code>NoneType</code></dt>
        <dd><code>None</code></dd>
    <dt>Overrides:
        <a href="openid.store.interface.OpenIDStore-class.html#storeAssociation">interface.OpenIDStore.storeAssociation</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="txn_getAssociation"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">txn_getAssociation</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">server_url</span>,
        <span class="sig-arg">handle</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.txn_getAssociation">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the most recent association that has been set for this server URL 
  and handle.</p>
  <p>str -&gt; NoneType or Association</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="getAssociation"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">getAssociation</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">*args</span>,
        <span class="sig-arg">**kwargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.getAssociation">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the most recent association that has been set for this server URL 
  and handle.</p>
  <p>str -&gt; NoneType or Association</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>server_url</code></strong> - The URL of the identity server to get the association for.  
          Because of the way the server portion of the library uses this 
          interface, don't assume there are any limitations on the 
          character set of the input string. In particular, expect to see 
          unescaped non-url-safe characters in the server_url field.</li>
        <li><strong class="pname"><code>handle</code></strong> - This optional parameter is the handle of the specific association
          to get.  If no specific handle is provided, any valid association
          matching the server URL is returned.</li>
    </ul></dd>
    <dt>Returns: <code><a href="openid.association.Association-class.html" 
      class="link">Association</a></code> or <code>NoneType</code></dt>
        <dd>The <code><a href="openid.association.Association-class.html" 
          class="link">Association</a></code> for the given identity 
          server.</dd>
    <dt>Overrides:
        <a href="openid.store.interface.OpenIDStore-class.html#getAssociation">interface.OpenIDStore.getAssociation</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="txn_removeAssociation"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">txn_removeAssociation</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">server_url</span>,
        <span class="sig-arg">handle</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.txn_removeAssociation">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove the association for the given server URL and handle, returning 
  whether the association existed at all.</p>
  <p>(str, str) -&gt; bool</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="removeAssociation"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">removeAssociation</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">*args</span>,
        <span class="sig-arg">**kwargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.removeAssociation">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove the association for the given server URL and handle, returning 
  whether the association existed at all.</p>
  <p>(str, str) -&gt; bool</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>server_url</code></strong> - The URL of the identity server the association to remove belongs 
          to.  Because of the way the server portion of the library uses 
          this interface, don't assume there are any limitations on the 
          character set of the input string.  In particular, expect to see 
          unescaped non-url-safe characters in the server_url field.</li>
        <li><strong class="pname"><code>handle</code></strong> - This is the handle of the association to remove.  If there isn't 
          an association found that matches both the given URL and handle, 
          then there was no matching handle found.</li>
    </ul></dd>
    <dt>Returns: <code>bool</code> or <code>int</code></dt>
        <dd>Returns whether or not the given association existed.</dd>
    <dt>Overrides:
        <a href="openid.store.interface.OpenIDStore-class.html#removeAssociation">interface.OpenIDStore.removeAssociation</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="txn_useNonce"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">txn_useNonce</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">server_url</span>,
        <span class="sig-arg">timestamp</span>,
        <span class="sig-arg">salt</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.txn_useNonce">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return whether this nonce is present, and if it is, then remove it 
  from the set.</p>
  <p>str -&gt; bool</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="useNonce"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">useNonce</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">*args</span>,
        <span class="sig-arg">**kwargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.useNonce">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return whether this nonce is present, and if it is, then remove it 
  from the set.</p>
  <p>str -&gt; bool</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>server_url</code></strong> - The URL of the server from which the nonce originated.</li>
        <li><strong class="pname"><code>timestamp</code></strong> - The time that the nonce was created (to the nearest second), in 
          seconds since January 1 1970 UTC.</li>
        <li><strong class="pname"><code>salt</code></strong> - A random string that makes two nonces from the same server issued
          during the same second unique.</li>
    </ul></dd>
    <dt>Returns: <code>bool</code></dt>
        <dd>Whether or not the nonce was valid.</dd>
    <dt>Overrides:
        <a href="openid.store.interface.OpenIDStore-class.html#useNonce">interface.OpenIDStore.useNonce</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="cleanupNonces"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">cleanupNonces</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">*args</span>,
        <span class="sig-arg">**kwargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.cleanupNonces">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove expired nonces from the store.</p>
  <p>Discards any nonce from storage that is old enough that its timestamp 
  would not pass <a 
  href="openid.store.filestore.FileOpenIDStore-class.html#useNonce" 
  class="link">useNonce</a>.</p>
  <p>This method is not called in the normal operation of the library.  It 
  provides a way for store admins to keep their storage from filling up 
  with expired data.</p>
  <dl class="fields">
    <dt>Returns: int</dt>
        <dd>the number of nonces expired.</dd>
    <dt>Overrides:
        <a href="openid.store.interface.OpenIDStore-class.html#cleanupNonces">interface.OpenIDStore.cleanupNonces</a>
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="cleanupAssociations"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">cleanupAssociations</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">*args</span>,
        <span class="sig-arg">**kwargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="openid.store.sqlstore-pysrc.html#SQLStore.cleanupAssociations">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove expired associations from the store.</p>
  <p>This method is not called in the normal operation of the library.  It 
  provides a way for store admins to keep their storage from filling up 
  with expired data.</p>
  <dl class="fields">
    <dt>Returns: int</dt>
        <dd>the number of associations expired.</dd>
    <dt>Overrides:
        <a href="openid.store.interface.OpenIDStore-class.html#cleanupAssociations">interface.OpenIDStore.cleanupAssociations</a>
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="openid-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://github.com/openid/python-openid/">Python-OpenID</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Thu Jul 29 15:11:28 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
